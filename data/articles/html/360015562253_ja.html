<p>ビルド中に、ジョブを失敗させずに早期終了させたい場合あります。</p>
<p><code class="highlighter-rouge">circleci-agent step halt</code> コマンドを実行して、ジョブを正常終了させることができます。</p>
<p><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;">このコマンドを </span><code class="highlighter-rouge" style="font-size: 15px;">if</code><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;"> </span><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;">ステートメントや </span><code class="highlighter-rouge" style="font-size: 15px;">when</code><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;"> ステップ</span><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;">と組み合わせて、ジョブのライフサイクルを条件を付けて制御できます。</span></p>
<h3><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;">例：</span></h3>
<ul>
    <li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;"><strong><code class="highlighter-rouge" style="font-size: 15px;">if</code> ステートメント：</strong><br></span></li>
</ul>
<pre class="bash-command" title="このセットアップを実行するために使用される bash コマンド">run: |<br>    if [ "$CIRCLE_BRANCH" = "develop" ]; then<br><strong>        <span>circleci-agent</span> step halt</strong>    fi</pre>
<p> </p>
<ul>
    <li><strong><code class="highlighter-rouge" style="font-size: 15px;">when</code><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;"> ステップ：</span></strong></li>
</ul>
<pre>- when:<br>    condition: false<br>    steps:<br>      - run:<br>          command: <strong>circleci-agent step halt</strong></pre>